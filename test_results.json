{
  "total": 14,
  "passed": 9,
  "failed": 5,
  "results": [
    {
      "test": "Authentication",
      "success": true,
      "message": "Successfully authenticated as test.brand.generic@example.com",
      "details": {},
      "timestamp": "2025-12-18T22:26:55.905032+00:00"
    },
    {
      "test": "DACDRLP-List GET Endpoint",
      "success": true,
      "message": "Returns DACDRLP-List with 0 retailers",
      "details": {
        "retailers_count": 0,
        "dacsai_rad": null
      },
      "timestamp": "2025-12-18T22:26:55.916265+00:00"
    },
    {
      "test": "DACSAI Update - No Delivery Location",
      "success": true,
      "message": "Correctly returns 400 error when no delivery location set",
      "details": {
        "response": {
          "detail": "Delivery location not set. Please update your profile first."
        }
      },
      "timestamp": "2025-12-18T22:26:55.965652+00:00"
    },
    {
      "test": "Create Test DRLP",
      "success": false,
      "message": "Failed to register DRLP: {'detail': 'Email already registered as DRLP'}",
      "details": {},
      "timestamp": "2025-12-18T22:26:55.975267+00:00"
    },
    {
      "test": "Create Test DAC with Delivery Location",
      "success": false,
      "message": "Failed to register DAC: {'detail': 'Email already registered as DAC'}",
      "details": {},
      "timestamp": "2025-12-18T22:26:55.984173+00:00"
    },
    {
      "test": "Create Test DRLP",
      "success": false,
      "message": "Failed to register DRLP: {'detail': 'Email already registered as DRLP'}",
      "details": {},
      "timestamp": "2025-12-18T22:26:56.033938+00:00"
    },
    {
      "test": "Add/Remove Retailers - Setup",
      "success": false,
      "message": "Failed to create test DRLP for testing",
      "details": {},
      "timestamp": "2025-12-18T22:26:56.034034+00:00"
    },
    {
      "test": "Geographic Filter - DACDRLP-List Check",
      "success": true,
      "message": "DACDRLP-List endpoint accessible for geographic filtering",
      "details": {
        "response": {
          "dac_id": "5f7e6fcb-e5fb-4489-ac95-3f1fd8488249",
          "retailers": [],
          "created_at": "2025-12-16T19:15:03.066054+00:00",
          "updated_at": "2025-12-16T19:15:03.066061+00:00"
        }
      },
      "timestamp": "2025-12-18T22:26:56.042584+00:00"
    },
    {
      "test": "Existing Functionality - Item Favorites",
      "success": true,
      "message": "Item-level favorites still working correctly",
      "details": {
        "item": {
          "item_name": "Geographic Test Apple",
          "brand": null,
          "generic": "Geographic Test Apple",
          "has_brand": false,
          "category": "Fruits",
          "keywords": [
            "geographic",
            "test",
            "apple"
          ],
          "brand_keywords": [],
          "generic_keywords": [
            "geographic",
            "test",
            "apple"
          ],
          "attributes": {},
          "auto_added_date": null
        }
      },
      "timestamp": "2025-12-18T22:26:57.374260+00:00"
    },
    {
      "test": "Existing Functionality - Auto Threshold",
      "success": false,
      "message": "Auto-threshold settings broken: {'detail': 'Failed to update auto-add settings'}",
      "details": {},
      "timestamp": "2025-12-18T22:26:57.390280+00:00"
    },
    {
      "test": "Categories Endpoint",
      "success": true,
      "message": "Returns 20 categories including 'Miscellaneous'",
      "details": {
        "categories": [
          "Fruits",
          "Vegetables",
          "Meat & Poultry",
          "Seafood",
          "Dairy & Eggs",
          "Bakery & Bread",
          "Pantry Staples",
          "Snacks & Candy",
          "Frozen Foods",
          "Beverages",
          "Deli & Prepared Foods",
          "Breakfast & Cereal",
          "Pasta, Rice & Grains",
          "Oils, Sauces & Spices",
          "Baby & Kids",
          "Health & Nutrition",
          "Household Essentials",
          "Personal Care",
          "Pet Supplies",
          "Miscellaneous"
        ]
      },
      "timestamp": "2025-12-18T22:26:57.436934+00:00"
    },
    {
      "test": "Authentication Login Regression",
      "success": true,
      "message": "Login endpoint returns valid token",
      "details": {
        "user_role": "DAC"
      },
      "timestamp": "2025-12-18T22:26:57.689738+00:00"
    },
    {
      "test": "Authentication Protection Regression",
      "success": true,
      "message": "Protected endpoint correctly rejects invalid token with 401",
      "details": {
        "response": {
          "detail": "Could not validate credentials"
        }
      },
      "timestamp": "2025-12-18T22:26:57.737182+00:00"
    },
    {
      "test": "Authentication Role Access Regression",
      "success": true,
      "message": "DAC user can access favorites endpoints",
      "details": {
        "user_role": "DAC"
      },
      "timestamp": "2025-12-18T22:26:57.745375+00:00"
    }
  ]
}