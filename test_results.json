{
  "total": 11,
  "passed": 8,
  "failed": 3,
  "results": [
    {
      "test": "Authentication",
      "success": true,
      "message": "Successfully authenticated as test.brand.generic@example.com",
      "details": {},
      "timestamp": "2025-12-20T02:58:23.099577+00:00"
    },
    {
      "test": "WebSocket Status Endpoint",
      "success": true,
      "message": "Returns correct status: 0 connections, 0 users, status: active",
      "details": {
        "response": {
          "total_connections": 0,
          "unique_users": 0,
          "status": "active"
        }
      },
      "timestamp": "2025-12-20T02:58:23.112159+00:00"
    },
    {
      "test": "WebSocket Connection with Consumer Token",
      "success": true,
      "message": "Successfully connected and communicated via WebSocket",
      "details": {
        "initial_message": {
          "type": "hot"
        },
        "ping_response": {
          "type": "liveReload"
        },
        "consumer_email": "consumer1@dealshaq.com"
      },
      "timestamp": "2025-12-20T02:58:23.421478+00:00"
    },
    {
      "test": "WebSocket Authorization - Invalid Token",
      "success": false,
      "message": "Connection accepted with invalid token (security issue)",
      "details": {},
      "timestamp": "2025-12-20T02:58:23.462971+00:00"
    },
    {
      "test": "WebSocket Authorization - No Token",
      "success": false,
      "message": "Connection accepted without token (security issue)",
      "details": {},
      "timestamp": "2025-12-20T02:58:23.482865+00:00"
    },
    {
      "test": "Notification Database Structure",
      "success": true,
      "message": "No notifications found (empty state is valid)",
      "details": {
        "notifications_count": 0
      },
      "timestamp": "2025-12-20T02:58:23.495915+00:00"
    },
    {
      "test": "RSHD Post Triggers Notification with Retailer Credentials",
      "success": false,
      "message": "No notification found for test item. Total notifications: 0 \u2192 0",
      "details": {
        "retailer_email": "freshvalleymarket@dealshaq.com",
        "rshd_item": "WebSocket Test Notification Item",
        "all_recent_notifications": []
      },
      "timestamp": "2025-12-20T02:58:26.903118+00:00"
    },
    {
      "test": "Categories Endpoint",
      "success": true,
      "message": "Returns 20 categories including 'Miscellaneous'",
      "details": {
        "categories": [
          "Fruits",
          "Vegetables",
          "Meat & Poultry",
          "Seafood",
          "Dairy & Eggs",
          "Bakery & Bread",
          "Pantry Staples",
          "Snacks & Candy",
          "Frozen Foods",
          "Beverages",
          "Deli & Prepared Foods",
          "Breakfast & Cereal",
          "Pasta, Rice & Grains",
          "Oils, Sauces & Spices",
          "Baby & Kids",
          "Health & Nutrition",
          "Household Essentials",
          "Personal Care",
          "Pet Supplies",
          "Miscellaneous"
        ]
      },
      "timestamp": "2025-12-20T02:58:26.951019+00:00"
    },
    {
      "test": "Authentication Login Regression",
      "success": true,
      "message": "Login endpoint returns valid token",
      "details": {
        "user_role": "DAC"
      },
      "timestamp": "2025-12-20T02:58:27.203312+00:00"
    },
    {
      "test": "Authentication Protection Regression",
      "success": true,
      "message": "Protected endpoint correctly rejects invalid token with 401",
      "details": {
        "response": {
          "detail": "Could not validate credentials"
        }
      },
      "timestamp": "2025-12-20T02:58:27.212863+00:00"
    },
    {
      "test": "Authentication Role Access Regression",
      "success": true,
      "message": "DAC user can access favorites endpoints",
      "details": {
        "user_role": "DAC"
      },
      "timestamp": "2025-12-20T02:58:27.222511+00:00"
    }
  ]
}